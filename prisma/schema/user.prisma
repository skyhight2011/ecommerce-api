enum UserRole {
  ADMIN
  CUSTOMER
  SELLER
}

enum UserStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
  DELETED
}

model User {
  id        String     @id @default(uuid())
  email     String     @unique
  password  String
  firstName String?
  lastName  String?
  phone     String?
  role      UserRole   @default(CUSTOMER)
  status    UserStatus @default(ACTIVE)
  
  // Relations
  addresses Address[]
  orders    Order[]
  reviews   Review[]
  cart      Cart?
  wishlist  Wishlist?
  
  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@index([email])
  @@index([role])
  @@map("users")
}

model Address {
  id           String  @id @default(uuid())
  userId       String
  user         User    @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  fullName     String
  phone        String
  addressLine1 String
  addressLine2 String?
  city         String
  state        String
  postalCode   String
  country      String
  isDefault    Boolean @default(false)
  
  // Relations
  orders Order[]
  
  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@index([userId])
  @@map("addresses")
}
